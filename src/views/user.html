<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Valley-Tales</title>
    <link rel="shortcut icon" href="./images/icon.ico" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/pretendard/dist/web/static/pretendard.css"
    />
    <link rel="stylesheet" href="styles/style.css" />
    <link rel="stylesheet" href="styles/join.css" />
    <link rel="stylesheet" href="styles/modal.css" />

    <script type="module" src="components/AwardMVP/award.js"></script>
    <script
      type="module"
      src="components/CertificateMVP/certificate.js"
    ></script>
    <script type="module" src="components/EducationMVP/education.js"></script>
    <script type="module" src="components/UserMVP/profile.js"></script>
    <script type="module" src="components/ProjectMVP/project.js"></script>
    <script type="module" src="components/navbar.js"></script>
  </head>

  <!-- 회원 탈퇴 모달 팝업 -->
  <div class="modal">
    <div class="modal_popup">
      <h3>정말 탈퇴하시겠어요?</h3>
      <div class="btn-div">
        <button type="button" class="modalbtnWh yes_btn">네</button>
        <button type="button" class="modalbtn close_btn">취소</button>
      </div>
    </div>
  </div>
  <!-- 회원 탈퇴 모달 팝업 -->

  <body>
    <div id="navbar"></div>
    <div class="container mt-5">
      <div class="row">
        <div class="col-md-4">
          <div id="userProfile" class="mb-4">
            <div class="card">
              <img
                class="card-img-top"
                alt="User Image"
                id="profileImage"
                onerror="handleImgError()"
              />
              <input
                type="text"
                class="form-control profile-input"
                id="imageURLInput"
                placeholder="이미지 URL 입력"
              />
              <!-- <input
                type="file"
                class="form-control profile-input image-upload"
                id="imageFileInput"
                accept="image/*"
              /> -->
              <div class="image-preview" id="imagePreview"></div>
              <div class="card-body">
                <h5 class="card-title" id="nameText"></h5>
                <input
                  type="text"
                  class="form-control profile-input"
                  id="nameInput"
                  placeholder="이름"
                />
                <p class="card-text" id="emailText"></p>
                <!-- <input
                  type="text"
                  class="form-control profile-input"
                  id="emailInput"
                  placeholder="이메일"
                /> -->
                <p class="card-text" id="bioText">
                  설명이 아직 없습니다. 추가해 주세요.
                </p>
                <textarea
                  class="form-control profile-input"
                  id="bioInput"
                  placeholder="자기소개"
                ></textarea>
                <div id="profileButtons" class="profile-buttons mgn-15">
                  <button
                    class="btn btn-primary btn-block"
                    id="profileConfirmBtn"
                  >
                    확인
                  </button>
                  <button
                    class="btn btn-secondary btn-block"
                    id="profileCancelBtn"
                  >
                    취소
                  </button>
                </div>
                <div class="inline" id="smallBtns">
                  <button
                    type="button"
                    class="nav-link small-font wid-72"
                    id="withdrawBtn"
                  >
                    회원 탈퇴
                  </button>

                  <button
                    type="button"
                    class="nav-link small-font wid-72"
                    id="pw-change-btn"
                    onclick="location.href='/pwchange'"
                  >
                    비밀번호 변경
                  </button>
                </div>

                <button class="btn btn-primary btn-block" id="editProfileBtn">
                  Edit
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-8">
          <div class="row">
            <!-- 학력 섹션 -->
            <div class="col-md-6 mb-3">
              <div class="card">
                <div
                  class="card-body d-flex justify-content-between align-items-center"
                >
                  <h5 class="card-title">학력</h5>
                  <button
                    class="btn btn-primary btn-sm"
                    name="addBtn"
                    id="addEducationBtn"
                  >
                    +
                  </button>
                </div>
                <div class="education-list" id="educationList"></div>
                <form
                  class="education-form"
                  id="educationForm"
                  style="display: none"
                >
                  <h3>학력 추가</h3>
                  <input
                    type="text"
                    id="schoolName"
                    placeholder="학교 이름"
                    class="form-control education-input"
                  />
                  <input
                    type="text"
                    id="major"
                    placeholder="전공"
                    class="form-control education-input mt-2"
                  />
                  <div class="mt-2">
                    <input type="radio" name="degree" value="재학중" /> 재학중
                    <input type="radio" name="degree" value="학사졸업" /> 학사
                    졸업
                    <input type="radio" name="degree" value="석사졸업" /> 석사
                    졸업
                    <input type="radio" name="degree" value="박사졸업" /> 박사
                    졸업
                  </div>
                  <input
                    type="date"
                    id="startDate"
                    placeholder="입학날짜"
                    class="form-control"
                  />
                  <input
                    type="date"
                    id="endDate"
                    placeholder="졸업날짜"
                    class="form-control"
                  />
                  <div class="buttons mt-2">
                    <button id="confirmBtn" class="btn btn-primary">
                      확인
                    </button>
                    <button id="cancelBtn" class="btn btn-secondary">
                      취소
                    </button>
                  </div>
                </form>
              </div>
            </div>

            <!-- 수상이력 섹션 -->
            <div class="col-md-6 mb-3">
              <div class="card">
                <div
                  class="card-body d-flex justify-content-between align-items-center"
                >
                  <h5 class="card-title">수상 이력</h5>
                  <button
                    class="btn btn-primary btn-sm"
                    id="award-form_addAwardBtn"
                    name="addBtn"
                  >
                    +
                  </button>
                </div>
                <div class="award-list" id="awardList"></div>
                <form
                  class="award-form"
                  id="award-form_awardForm"
                  style="display: none"
                >
                  <h3>수상이력 추가</h3>
                  <input
                    type="text"
                    id="award-form_awardHistory"
                    placeholder="수상 내역"
                    class="form-control award-input"
                  />
                  <input
                    type="text"
                    id="award-form_organization"
                    placeholder="개최 기관"
                    class="form-control award-input mt-2"
                  />
                  <input
                    type="date"
                    id="award-form_awardDate"
                    placeholder="수상 날짜"
                    class="form-control award-input mt-2"
                  />
                  <div class="buttons mt-2">
                    <button id="awardConfirmBtn" class="btn btn-primary">
                      확인
                    </button>
                    <button id="awardCancelBtn" class="btn btn-secondary">
                      취소
                    </button>
                  </div>
                </form>
              </div>
            </div>

            <!-- 프로젝트 섹션 -->
            <div class="col-md-6 mb-3">
              <div class="card">
                <div
                  class="card-body d-flex justify-content-between align-items-center"
                >
                  <h5 class="card-title">프로젝트</h5>
                  <button
                    class="btn btn-primary btn-sm"
                    name="addBtn"
                    id="addProjectBtn"
                  >
                    +
                  </button>
                </div>
                <div class="project-list" id="projectList"></div>
                <form
                  class="project-form"
                  id="projectForm"
                  style="display: none"
                >
                  <h3>프로젝트 추가</h3>
                  <input
                    type="text"
                    id="projectName"
                    placeholder="프로젝트 이름"
                    class="form-control"
                  />
                  <textarea
                    id="projectDescription"
                    placeholder="프로젝트 설명"
                    class="form-control mt-2"
                  ></textarea>
                  <input
                    type="date"
                    id="pjStartDate"
                    placeholder="시작일"
                    class="form-control"
                  />
                  <input
                    type="date"
                    id="pjEndDate"
                    placeholder="종료일"
                    class="form-control"
                  />
                  <div class="buttons mt-2">
                    <button id="projectConfirmBtn" class="btn btn-primary">
                      확인
                    </button>
                    <button id="projectCancelBtn" class="btn btn-secondary">
                      취소
                    </button>
                  </div>
                </form>
              </div>
            </div>

            <!-- 자격증 섹션 -->
            <div class="col-md-6 mb-3">
              <div class="card">
                <div
                  class="card-body d-flex justify-content-between align-items-center"
                >
                  <h5 class="card-title">자격증</h5>
                  <button
                    class="btn btn-primary btn-sm"
                    id="addCertificateBtn"
                    name="addBtn"
                  >
                    +
                  </button>
                </div>
                <div class="certificate-list" id="certificateList"></div>
                <form
                  class="certificate-form"
                  id="certificateForm"
                  style="display: none"
                >
                  <h3>자격증 추가</h3>
                  <input
                    type="text"
                    id="certificateName"
                    placeholder="자격증 이름"
                    class="form-control"
                  />
                  <input
                    type="text"
                    id="certificateOrganization"
                    placeholder="발급 기관"
                    class="form-control mt-2"
                  />
                  <input
                    type="date"
                    id="certificateDate"
                    placeholder="발급 날짜"
                    class="form-control mt-2"
                  />
                  <input
                    type="date"
                    id="ExpDate"
                    placeholder="만료일"
                    class="form-control"
                  />
                  <div class="buttons mt-2">
                    <button id="certificateConfirmBtn" class="btn btn-primary">
                      확인
                    </button>
                    <button id="certificateCancelBtn" class="btn btn-secondary">
                      취소
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      function handleImgError() {
        const errorimg = document.getElementById("profileImage");
        errorimg.src = "./images/profile.png"; // 대체 이미지 URL
        return alert(
          "올바르지 않은 url이 프로필 이미지로 등록되었습니다.\n기본 이미지로 대체됩니다."
        );
      }
    </script>
  </body>
</html>
